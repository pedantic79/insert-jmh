plugins {
    id "me.champeau.jmh" version "0.6.6"
}

repositories {
    jcenter()
}

// Fix buildship using bin directory. Why buildship!? Why!?
eclipse.classpath {
  defaultOutputDir = file("build/default")
  file.whenMerged { cp ->
    cp.entries.forEach { cpe ->
      if (cpe instanceof org.gradle.plugins.ide.eclipse.model.SourceFolder) {
        cpe.output = cpe.output.replace "bin/", "build/classes/java/"
      }
      if (cpe instanceof org.gradle.plugins.ide.eclipse.model.Output) {
        cpe.path = cpe.path.replace "bin/", "build/"
      }
    }
  }
}
